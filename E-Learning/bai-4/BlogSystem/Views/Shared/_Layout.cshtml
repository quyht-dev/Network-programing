@{
    Layout = null;
    var title = ViewData["Title"] ?? "Blog System";
    var controller = ViewContext?.RouteData?.Values["controller"]?.ToString();
    var action = ViewContext?.RouteData?.Values["action"]?.ToString();
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@title</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />

    <!-- Site CSS -->
    <link rel="stylesheet" href="~/css/gradient_login.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/home.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/404.css" asp-append-version="true" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="~/favicon.ico" />
</head>
<body class="d-flex flex-column min-vh-100">
    <!-- Enhanced Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-nav shadow">
        <div class="container">
            <!-- Brand with logo/icon -->
            <a class="navbar-brand d-flex align-items-center" href="/">
                <i class="fas fa-blog me-2"></i>
                <span>Blog System</span>
            </a>
            
            <!-- Mobile toggle button -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <!-- Navbar content -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <!-- Navigation links -->
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link text-center @(controller == "Home" && action == "Index" ? "active fw-bold" : "")" 
                           href="/">
                            <i class="fas fa-home me-1"></i> Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-center @(controller == "Blog" ? "active fw-bold" : "")" 
                           href="/Error">
                            <i class="fas fa-newspaper me-1"></i> Blogs
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-center @(controller == "About" ? "active fw-bold" : "")" 
                           href="/Error">
                            <i class="fas fa-info-circle me-1"></i> About
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-center @(controller == "Contact" ? "active fw-bold" : "")" 
                           href="/Error">
                            <i class="fas fa-envelope me-1"></i> Contact
                        </a>
                    </li>
                </ul>
                
                <!-- Auth buttons -->
                <div class="d-flex flex-column flex-lg-row gap-2">
                    <a href="/Auth/Login" 
                       class="btn btn-outline-light btn-sm d-flex align-items-center justify-content-center">
                        <i class="fas fa-sign-in-alt me-2"></i> Login
                    </a>
                    <a href="/Auth/Register" 
                       class="btn btn-gradient btn-sm d-flex align-items-center justify-content-center" 
                       style="background: linear-gradient(90deg, #ff7e5f, #feb47b);">
                        <i class="fas fa-user-plus me-2"></i> Register
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main content -->
    <main class="flex-grow-1">
        @RenderBody()
    </main>

    <!-- Enhanced Footer -->
    <footer class="bg-dark text-white mt-auto">
        <!-- Main footer content -->
        <div class="container py-5">
            <div class="row">
                <!-- Brand and description -->
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="footer-content">
                        <h3 class="h4 mb-3">
                            <i class="fas fa-blog me-2" style="color: #feb47b;"></i>
                            <span style="background: linear-gradient(90deg, #ff7e5f, #feb47b); -webkit-background-clip: text; background-clip: text; color: transparent;">
                                Blog System
                            </span>
                        </h3>
                        <p class="text-light mb-4">
                            A modern blogging platform for sharing ideas, stories, and knowledge with the world.
                        </p>
                        <div class="d-flex gap-3">
                            <a href="#" class="social-icon rounded-circle bg-secondary text-white">
                                <i class="fab fa-facebook-f"></i>
                            </a>
                            <a href="#" class="social-icon rounded-circle bg-secondary text-white">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="#" class="social-icon rounded-circle bg-secondary text-white">
                                <i class="fab fa-instagram"></i>
                            </a>
                            <a href="#" class="social-icon rounded-circle bg-secondary text-white">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Quick links -->
                <div class="col-lg-2 col-md-6 mb-4">
                    <h5 class="mb-3">Quick Links</h5>
                    <div class="footer-links d-flex flex-column">
                        <a href="/" class="text-light mb-2">
                            <i class="fas fa-chevron-right me-2" style="color: #feb47b;"></i> Home
                        </a>
                        <a href="/Error" class="text-light mb-2">
                            <i class="fas fa-chevron-right me-2" style="color: #feb47b;"></i> Blogs
                        </a>
                        <a href="/Error" class="text-light mb-2">
                            <i class="fas fa-chevron-right me-2" style="color: #feb47b;"></i> About Us
                        </a>
                        <a href="/Error" class="text-light mb-2">
                            <i class="fas fa-chevron-right me-2" style="color: #feb47b;"></i> Contact
                        </a>
                    </div>
                </div>
                
                <!-- Account links -->
                <div class="col-lg-3 col-md-6 mb-4">
                    <h5 class="mb-3">Account</h5>
                    <div class="footer-links d-flex flex-column">
                        <a href="/Auth/Login" class="text-light mb-2">
                            <i class="fas fa-sign-in-alt me-2" style="color: #feb47b;"></i> Login
                        </a>
                        <a href="/Error" class="text-light mb-2">
                            <i class="fas fa-user-plus me-2" style="color: #feb47b;"></i> Register
                        </a>
                        <a href="/Error" class="text-light mb-2">
                            <i class="fas fa-key me-2" style="color: #feb47b;"></i> Forgot Password
                        </a>
                        <a href="/Error" class="text-light mb-2">
                            <i class="fas fa-user me-2" style="color: #feb47b;"></i> My Profile
                        </a>
                    </div>
                </div>
                
                <!-- Contact info -->
                <div class="col-lg-3 col-md-6 mb-4">
                    <h5 class="mb-3">Contact Info</h5>
                    <div class="footer-links d-flex flex-column">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-map-marker-alt me-3" style="color: #feb47b;"></i>
                            <span class="text-light">123 Street, City, Country</span>
                        </div>
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-phone me-3" style="color: #feb47b;"></i>
                            <span class="text-light">+1 234 567 890</span>
                        </div>
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-envelope me-3" style="color: #feb47b;"></i>
                            <span class="text-light">info@blogsystem.com</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Copyright section -->
        <div class="bg-black py-3">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6 text-center text-md-start">
                        <p class="mb-0 text-light">
                            &copy; @DateTime.Now.Year - Nh√≥m 12. All rights reserved.
                        </p>
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        <div class="footer-links d-flex justify-content-center justify-content-md-end gap-3">
                            <a href="/Error" class="text-light text-decoration-none">Privacy Policy</a>
                            <span class="text-light">|</span>
                            <a href="/Error" class="text-light text-decoration-none">Terms of Service</a>
                            <span class="text-light">|</span>
                            <a href="/Error" class="text-light text-decoration-none">Sitemap</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Site JS -->
    <script type="module" src="/js/home.js"></script>
    <script type="module" src="/js/404.js"></script>
    
    <!-- Add sticky navbar effect -->
    <script>
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.sticky-nav');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
        
        // Add active class to current page link
        document.addEventListener('DOMContentLoaded', function() {
            const currentUrl = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentUrl) {
                    link.classList.add('active', 'fw-bold');
                }
            });
        });
    </script>
    
    @if (controller == "Auth" && action == "Login") {
        <script src="/js/login.js"></script>
    }
</body>
</html>